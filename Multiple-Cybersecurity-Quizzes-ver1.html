<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cybersecurity Learning Quizzes</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to apply the Inter font */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style for preventing selection of text */
        .no-select {
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10 and IE 11 */
            user-select: none; /* Standard syntax */
        }
        /* Simple transition for a smoother UI experience */
        .transition-all {
            transition: all 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 flex flex-col items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8 no-select">

    <div id="app-container" class="w-full max-w-2xl mx-auto">
        
        <!-- Main Title -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-cyan-400">Cybersecurity Quizzes</h1>
            <p class="text-gray-400 mt-2">Test your knowledge. Select a module to begin.</p>
        </header>

        <!-- Module Selection Screen -->
        <div id="module-selection" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Module buttons will be generated by JavaScript -->
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-container" class="hidden w-full bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-6 sm:p-8">
            <div id="quiz-header" class="mb-6">
                <div class="flex justify-between items-center">
                    <h2 id="module-title" class="text-xl sm:text-2xl font-bold text-cyan-400"></h2>
                    <span id="question-counter" class="text-sm font-medium bg-gray-700 text-cyan-400 px-3 py-1 rounded-full"></span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-2 mt-3">
                    <div id="progress-bar" class="bg-cyan-500 h-2 rounded-full transition-all"></div>
                </div>
            </div>
            
            <div id="question-area">
                <p id="question-text" class="text-lg sm:text-xl font-medium mb-6 min-h-[6rem]"></p>
                <div id="options-container" class="space-y-3">
                    <!-- Options will be dynamically inserted here -->
                </div>
            </div>

            <div class="mt-8 flex justify-end">
                <button id="next-btn" class="hidden bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition-all">Next</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-container" class="hidden text-center bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-8">
            <h2 id="results-title" class="text-2xl sm:text-3xl font-bold text-cyan-400 mb-4">Quiz Complete!</h2>
            <p id="results-score" class="text-lg text-gray-300 mb-2"></p>
            <p id="results-feedback" class="text-xl font-semibold mb-8"></p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <button id="restart-btn" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg transition-all">Restart Quiz</button>
                <button id="next-module-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-all">Next Module</button>
                <button id="main-menu-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-all">Main Menu</button>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        // Storing all quiz data in a structured JavaScript object.
        const quizData = [
            {
                title: "Module 1: Foundations",
                questions: [
                    { question: "Which of the following best describes the integration of technologies like IoT, AI, and 5G in modern environments?", options: ["A botnet", "A complex digital landscape, such as a \"smart city\"", "A VERIS framework", "A segregated network"], answer: 1 },
                    { question: "According to the VERIS framework, what does the term \"Threat Actor\" refer to?", options: ["The tactics used in an attack", "The systems that are affected", "The person or group behind a security event", "The impact on confidentiality"], answer: 2 },
                    { question: "What is the key difference between a security *incident* and a security *breach*?", options: ["An incident is intentional, while a breach is accidental.", "A breach involves confirmed data disclosure to an unauthorized party.", "An incident only affects availability, while a breach affects confidentiality.", "A breach is a physical event, while an incident is purely digital."], answer: 1 }
                ]
            },
            {
                title: "Module 2: Threat Landscape",
                questions: [
                    { question: "Which of the following is a common trick used in phishing attacks?", options: ["Using extremely short and simple URLs", "Using look-alike domains with slight misspellings", "Ensuring the email address perfectly matches the brand's domain", "Attaching files that are exactly what they appear to be"], answer: 1 },
                    { question: "What is \"infostealer malware\" primarily used for?", options: ["To launch Denial of Service attacks", "To encrypt files for ransom", "To collect and steal credentials from infected devices", "To fix software vulnerabilities automatically"], answer: 2 },
                    { question: "Which of the following is NOT a primary motivation for external threat actors like criminal groups?", options: ["Financial gain", "Espionage", "Unintentional misconfiguration", "Political disruption"], answer: 2 }
                ]
            },
            {
                title: "Module 3: Home & Office Security",
                questions: [
                    { question: "When setting up a new router, what is one of the most critical first steps?", options: ["Keeping the default administrative password for easy recall", "Changing all default passwords to something strong and unique", "Placing the router in a public, easily accessible area", "Enabling Universal Plug and Play (UPnP) for convenience"], answer: 1 },
                    { question: "Which WiFi security protocol is considered the most secure and should be prioritized?", options: ["WEP (Wired Equivalent Privacy)", "WPA (WiFi Protected Access)", "WPS (WiFi Protected Setup)", "WPA3 (WiFi Protected Access 3)"], answer: 3 },
                    { question: "Why is creating a \"guest network\" a highly recommended security practice?", options: ["It makes your main network faster.", "It cloaks your primary SSID from being seen.", "It allows you to charge guests for WiFi access.", "It isolates untrusted devices from your main network and sensitive data."], answer: 3 }
                ]
            },
            {
                title: "Module 4: Best Practices",
                questions: [
                    { question: "What is the core idea behind the \"Principle of Least Privilege\"?", options: ["Granting all users administrator-level access to simplify management.", "Giving entities only the minimum permissions required to perform their functions.", "Removing all user privileges to create a completely secure system.", "Allowing privileges to be shared freely among team members."], answer: 1 },
                    { question: "A \"Zero Trust Architecture\" is built on which fundamental principle?", options: ["Trusting all devices and users inside the corporate network by default.", "Removing the need for passwords and relying only on physical security.", "Requiring authentication and authorization for every new connection, regardless of location.", "Focusing security only on the network perimeter."], answer: 2 },
                    { question: "In supply chain risk management, what does ensuring a product is \"secure by design\" mean?", options: ["The product is delivered in a secure, tamper-proof box.", "The product has been audited once just before shipping.", "Proactive cybersecurity risk management is integrated into the product's development from the very beginning.", "The vendor promises to release security patches eventually."], answer: 2 }
                ]
            },
            {
                title: "Module 5: Advanced Concepts",
                questions: [
                    { question: "What is \"prompt bombing\" a form of?", options: ["A Denial of Service (DoS) attack", "A social engineering technique to bypass MFA", "A method for encrypting files", "A technique for hardening operating systems"], answer: 1 },
                    { question: "The \"credential ecosystem\" refers to:", options: ["The process of creating strong passwords.", "The marketplace where stolen credentials are collected, bought, and sold.", "An organization's internal password management system.", "A type of multifactor authentication."], answer: 1 },
                    { question: "Why is cybersecurity considered a process of \"continuous improvement\"?", options: ["Because security goals are met and no further action is needed.", "Because new threats and vulnerabilities are constantly emerging, requiring ongoing adaptation.", "Because it is a one-time project for any organization.", "Because law enforcement handles all threat disruption."], answer: 1 }
                ]
            }
        ];

        // --- STATE MANAGEMENT ---
        let currentModuleIndex = 0;
        let currentQuestionIndex = 0;
        let score = 0;

        // --- DOM ELEMENT REFERENCES ---
        const moduleSelectionEl = document.getElementById('module-selection');
        const quizContainerEl = document.getElementById('quiz-container');
        const resultsContainerEl = document.getElementById('results-container');
        const moduleTitleEl = document.getElementById('module-title');
        const questionCounterEl = document.getElementById('question-counter');
        const progressBarEl = document.getElementById('progress-bar');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainerEl = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const nextModuleBtn = document.getElementById('next-module-btn');
        const mainMenuBtn = document.getElementById('main-menu-btn');
        const resultsTitleEl = document.getElementById('results-title');
        const resultsScoreEl = document.getElementById('results-score');
        const resultsFeedbackEl = document.getElementById('results-feedback');

        // --- FUNCTIONS ---

        /**
         * Initializes the module selection screen.
         */
        function init() {
            moduleSelectionEl.innerHTML = ''; // Clear existing buttons
            quizData.forEach((module, index) => {
                const button = document.createElement('button');
                button.textContent = module.title;
                button.className = 'w-full text-left bg-gray-800 hover:bg-gray-700 border border-gray-600 text-white font-semibold py-4 px-6 rounded-lg transition-all transform hover:scale-105';
                button.onclick = () => startQuiz(index);
                moduleSelectionEl.appendChild(button);
            });
            showScreen('modules');
        }
        
        /**
         * Controls which screen is visible to the user.
         * @param {string} screenName - 'modules', 'quiz', or 'results'
         */
        function showScreen(screenName) {
            moduleSelectionEl.classList.toggle('hidden', screenName !== 'modules');
            quizContainerEl.classList.toggle('hidden', screenName !== 'quiz');
            resultsContainerEl.classList.toggle('hidden', screenName !== 'results');
        }

        /**
         * Starts the quiz for a selected module.
         * @param {number} moduleIndex - The index of the module in quizData.
         */
        function startQuiz(moduleIndex) {
            currentModuleIndex = moduleIndex;
            currentQuestionIndex = 0;
            score = 0;
            showScreen('quiz');
            loadQuestion();
        }

        /**
         * Loads the current question and its options onto the screen.
         */
        function loadQuestion() {
            // Deselect any previously selected option
            if (document.querySelector('.selected')) {
                document.querySelector('.selected').classList.remove('selected');
            }
            
            const currentModule = quizData[currentModuleIndex];
            const currentQuestion = currentModule.questions[currentQuestionIndex];

            // Update UI elements
            moduleTitleEl.textContent = currentModule.title;
            questionCounterEl.textContent = `Question ${currentQuestionIndex + 1}/${currentModule.questions.length}`;
            questionTextEl.innerHTML = currentQuestion.question; // Use innerHTML to render emphasis tags
            
            const progressPercentage = ((currentQuestionIndex + 1) / currentModule.questions.length) * 100;
            progressBarEl.style.width = `${progressPercentage}%`;

            // Clear old options and create new ones
            optionsContainerEl.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const optionEl = document.createElement('button');
                optionEl.innerHTML = option;
                optionEl.className = 'w-full text-left p-4 rounded-lg bg-gray-700 hover:bg-gray-600 border border-gray-600 transition-all';
                optionEl.onclick = () => selectAnswer(index, optionEl);
                optionsContainerEl.appendChild(optionEl);
            });

            nextBtn.classList.add('hidden');
        }

        /**
         * Handles the user's answer selection, provides feedback, and updates the score.
         * @param {number} selectedIndex - The index of the selected option.
         * @param {HTMLElement} selectedElement - The button element that was clicked.
         */
        function selectAnswer(selectedIndex, selectedElement) {
            // Prevent selecting another answer
            const options = optionsContainerEl.querySelectorAll('button');
            options.forEach(button => button.disabled = true);
            
            const currentQuestion = quizData[currentModuleIndex].questions[currentQuestionIndex];
            const correctIndex = currentQuestion.answer;

            if (selectedIndex === correctIndex) {
                score++;
                selectedElement.classList.add('bg-green-600', 'border-green-500');
            } else {
                selectedElement.classList.add('bg-red-600', 'border-red-500');
                // Highlight the correct answer
                options[correctIndex].classList.add('bg-green-600', 'border-green-500');
            }
            
            nextBtn.classList.remove('hidden');
        }

        /**
         * Displays the final results of the quiz.
         */
        function showResults() {
            showScreen('results');
            const totalQuestions = quizData[currentModuleIndex].questions.length;
            const percentage = Math.round((score / totalQuestions) * 100);

            resultsTitleEl.textContent = `Results for ${quizData[currentModuleIndex].title}`;
            resultsScoreEl.textContent = `You scored ${score} out of ${totalQuestions} (${percentage}%)`;

            // Provide different feedback based on the score
            if (percentage === 100) {
                resultsFeedbackEl.textContent = "Excellent! You're a cybersecurity expert!";
                resultsFeedbackEl.className = 'text-green-400 text-xl font-semibold mb-8';
            } else if (percentage >= 70) {
                resultsFeedbackEl.textContent = "Great job! You have a solid understanding.";
                resultsFeedbackEl.className = 'text-yellow-400 text-xl font-semibold mb-8';
            } else {
                resultsFeedbackEl.textContent = "Good effort! Review the module to improve.";
                resultsFeedbackEl.className = 'text-red-400 text-xl font-semibold mb-8';
            }
            
            // Show or hide the "Next Module" button
            nextModuleBtn.classList.toggle('hidden', currentModuleIndex >= quizData.length - 1);
        }

        // --- EVENT LISTENERS ---
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData[currentModuleIndex].questions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });

        restartBtn.addEventListener('click', () => {
            startQuiz(currentModuleIndex);
        });

        nextModuleBtn.addEventListener('click', () => {
            if (currentModuleIndex < quizData.length - 1) {
                startQuiz(currentModuleIndex + 1);
            }
        });
        
        mainMenuBtn.addEventListener('click', init);

        // --- INITIALIZATION ---
        // Start the application by showing the module selection screen.
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
